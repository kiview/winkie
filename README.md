# Winkie
> AI/ML based behaviour classification of pigeon coordinate data.


## Install

Clone the reposity and install it as an [editable install](http://codumentary.blogspot.com/2014/11/python-tip-of-year-pip-install-editable.html):
```
pip install -e .
```

This will install Winkie in the currently active Python environment and makes it usable from other projects.

## How to use

Refer to the individual documentation sections at [https://kiview.github.io/winkie/](https://kiview.github.io/winkie/) to learn how to use it.

Examples how to preprocess data as generated by DLC can be found in [_preprocessing.ipynb](_preprocessing.ipynb). 
It further uses the label config format as specified in [labels_20210405.csv](https://osf.io/ey9z4/).
The raw data as generated by DLC can also be found [online](https://osf.io/4285v/files/).

The [_preprocessing.ipynb](_preprocessing.ipynb) notebook creates a single HDF file, containing the data for all tracked videos, including their labels. It is subsequently used in the machine learning steps and is also accessible [online](https://osf.io/7mceh/).

Examples how to integrate the provided module with different machine learning libraries such as [scikit-learn](https://scikit-learn.org/stable/) or [tsai](https://github.com/timeseriesAI/tsai) can be found in the jupyter notebooks prefixed by `_paper`.

## Development


This project uses [nbdev](https://github.com/fastai/nbdev) for development.
A regular workflow involves running the following commands in order:

```bash
nbdev_build_lib
nbdev_test_nbs
nbdev_build_docs
```

We also provide a convenient wrapper script:
```
./nbdev_build.sh
```

### Development Environment

The development environment can be created using [pipenv](https://pypi.org/project/pipenv/).
A corresponding `Pipfile` is provided, check the *Pipenv* documentation on how to use it.

There are a couple of tools pre-installed, such as Jupyter, etc..

Besides installing the development environment, the actual dependencies are managed by `nbdev` through Python's `setuptools` and defined in the `settings.ini` file, under the `requirements` key. 
In order to install them into your environment (ideally the environment created by *Pipenv*), just use the regular `setuptools` facilities:
```
pip install -e .
```

## Support

In case of questions or problems, please feel free to create an corresponding GitHub [issue](https://github.com/kiview/winkie/issues) to get in contact with the maintainers.
